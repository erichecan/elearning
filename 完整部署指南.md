# ğŸš€ å®Œæ•´éƒ¨ç½²æŒ‡å— - ä»GitHubåˆ°Netlifyå’ŒSupabase

## ğŸ“‹ éƒ¨ç½²æµç¨‹æ¦‚è§ˆ

1. **ç¬¬ä¸€æ­¥ï¼šæäº¤ä»£ç åˆ°GitHub** 
2. **ç¬¬äºŒæ­¥ï¼šåœ¨Supabaseä¸­è®¾ç½®æ•°æ®åº“**
3. **ç¬¬ä¸‰æ­¥ï¼šåœ¨Netlifyä¸­éƒ¨ç½²åº”ç”¨**

---

## ğŸ”§ ç¬¬ä¸€æ­¥ï¼šæäº¤ä»£ç åˆ°GitHub

### 1.1 æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°Git
```bash
git add .
git commit -m "å®ŒæˆSupabaseé›†æˆå’Œåº”ç”¨é‡æ„"
git push origin main
```

**è¯´æ˜ï¼š** è¿™ä¼šæŠŠæ‰€æœ‰çš„æ–°ä»£ç ï¼ˆåŒ…æ‹¬Supabaseé…ç½®ã€æ•°æ®åº“æ–‡ä»¶ç­‰ï¼‰æäº¤åˆ°GitHub

---

## ğŸ—„ï¸ ç¬¬äºŒæ­¥ï¼šåœ¨Supabaseä¸­è®¾ç½®æ•°æ®åº“

### 2.1 åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
1. æ‰“å¼€Supabaseæ§åˆ¶å°ï¼šhttps://app.supabase.com
2. è¿›å…¥æ‚¨çš„é¡¹ç›®ï¼ˆljtwkkzshbrvqrxgnuinï¼‰
3. ç‚¹å‡»å·¦ä¾§èœå• **"SQL Editor"**
4. ç‚¹å‡» **"New Query"**
5. å¤åˆ¶ç²˜è´´ä»¥ä¸‹SQLä»£ç ï¼š

```sql
-- åˆ†ç±»è¡¨
CREATE TABLE IF NOT EXISTS categories (
    id BIGSERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL UNIQUE,
    display_name VARCHAR(100) NOT NULL,
    description TEXT,
    icon VARCHAR(50),
    color VARCHAR(7),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- å•è¯è¡¨
CREATE TABLE IF NOT EXISTS words (
    id BIGSERIAL PRIMARY KEY,
    word VARCHAR(100) NOT NULL,
    chinese VARCHAR(100) NOT NULL,
    phonetic VARCHAR(200),
    image_url TEXT,
    audio_url TEXT,
    category_id BIGINT REFERENCES categories(id) ON DELETE CASCADE,
    difficulty_level INTEGER DEFAULT 1 CHECK (difficulty_level BETWEEN 1 AND 5),
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ç”¨æˆ·æ”¶è—è¡¨
CREATE TABLE IF NOT EXISTS favorites (
    id BIGSERIAL PRIMARY KEY,
    user_id VARCHAR(100) NOT NULL,
    word_id BIGINT REFERENCES words(id) ON DELETE CASCADE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(user_id, word_id)
);

-- å­¦ä¹ è¿›åº¦è¡¨
CREATE TABLE IF NOT EXISTS learning_progress (
    id BIGSERIAL PRIMARY KEY,
    user_id VARCHAR(100) NOT NULL,
    word_id BIGINT REFERENCES words(id) ON DELETE CASCADE,
    correct_count INTEGER DEFAULT 0,
    wrong_count INTEGER DEFAULT 0,
    last_learned_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    mastery_level INTEGER DEFAULT 0 CHECK (mastery_level BETWEEN 0 AND 5),
    UNIQUE(user_id, word_id)
);

-- å¯ç”¨RLS
ALTER TABLE categories ENABLE ROW LEVEL SECURITY;
ALTER TABLE words ENABLE ROW LEVEL SECURITY;
ALTER TABLE favorites ENABLE ROW LEVEL SECURITY;
ALTER TABLE learning_progress ENABLE ROW LEVEL SECURITY;

-- åˆ›å»ºRLSç­–ç•¥
CREATE POLICY "Allow read access to categories" ON categories FOR SELECT USING (true);
CREATE POLICY "Allow read access to words" ON words FOR SELECT USING (true);
CREATE POLICY "Users can read their own favorites" ON favorites FOR SELECT USING (true);
CREATE POLICY "Users can insert their own favorites" ON favorites FOR INSERT WITH CHECK (true);
CREATE POLICY "Users can delete their own favorites" ON favorites FOR DELETE USING (true);
CREATE POLICY "Users can read their own progress" ON learning_progress FOR SELECT USING (true);
CREATE POLICY "Users can insert their own progress" ON learning_progress FOR INSERT WITH CHECK (true);
CREATE POLICY "Users can update their own progress" ON learning_progress FOR UPDATE USING (true);
```

6. ç‚¹å‡» **"Run"** æ‰§è¡ŒSQL

### 2.2 æ’å…¥ç¤ºä¾‹æ•°æ®
1. åœ¨SQL Editorä¸­åˆ›å»ºæ–°æŸ¥è¯¢
2. å¤åˆ¶ç²˜è´´ä»¥ä¸‹ç¤ºä¾‹æ•°æ®ï¼š

```sql
-- æ’å…¥åˆ†ç±»æ•°æ®
INSERT INTO categories (name, display_name, description, icon, color) VALUES
('fruits', 'æ°´æœè”¬èœ', 'å„ç§æ°´æœå’Œè”¬èœçš„è‹±è¯­å•è¯', 'ğŸ', '#FF6B6B'),
('animals', 'åŠ¨ç‰©ä¸–ç•Œ', 'å¯çˆ±çš„åŠ¨ç‰©æœ‹å‹ä»¬', 'ğŸ¦', '#4ECDC4'),
('colors', 'é¢œè‰²å½¢çŠ¶', 'åŸºæœ¬é¢œè‰²å’Œå½¢çŠ¶è®¤çŸ¥', 'ğŸŒˆ', '#45B7D1'),
('numbers', 'æ•°å­—æ—¶é—´', 'æ•°å­—å’Œæ—¶é—´æ¦‚å¿µ', 'ğŸ”¢', '#96CEB4'),
('family', 'å®¶åº­æˆå‘˜', 'å®¶åº­æˆå‘˜ç§°è°“', 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', '#FFEAA7')
ON CONFLICT (name) DO NOTHING;

-- æ’å…¥å•è¯æ•°æ®
INSERT INTO words (word, chinese, phonetic, image_url, category_id, difficulty_level) VALUES
('apple', 'è‹¹æœ', '/ËˆÃ¦pÉ™l/', 'https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?w=400', 1, 1),
('banana', 'é¦™è•‰', '/bÉ™ËˆnÃ¦nÉ™/', 'https://images.unsplash.com/photo-1587132137056-bfbf0166836e?w=400', 1, 1),
('cat', 'çŒ«', '/kÃ¦t/', 'https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=400', 2, 1),
('dog', 'ç‹—', '/dÉ”ËÉ¡/', 'https://images.unsplash.com/photo-1552053831-71594a27632d?w=400', 2, 1),
('red', 'çº¢è‰²', '/red/', 'https://images.unsplash.com/photo-1558618047-b93c0c2e2041?w=400', 3, 1),
('blue', 'è“è‰²', '/bluË/', 'https://images.unsplash.com/photo-1464822759844-d150ad6191c6?w=400', 3, 1),
('one', 'ä¸€', '/wÊŒn/', null, 4, 1),
('two', 'äºŒ', '/tuË/', null, 4, 1),
('mother', 'å¦ˆå¦ˆ', '/ËˆmÊŒÃ°É™r/', 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400', 5, 2),
('father', 'çˆ¸çˆ¸', '/ËˆfÉ‘ËÃ°É™r/', 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400', 5, 2);
```

3. ç‚¹å‡» **"Run"** æ‰§è¡ŒSQL

---

## ğŸŒ ç¬¬ä¸‰æ­¥ï¼šåœ¨Netlifyä¸­éƒ¨ç½²åº”ç”¨

### 3.1 è¿æ¥GitHubä»“åº“
1. æ‰“å¼€Netlifyï¼šhttps://app.netlify.com
2. ç‚¹å‡» **"New site from Git"**
3. é€‰æ‹© **"GitHub"**
4. é€‰æ‹©æ‚¨çš„ `elearning` ä»“åº“
5. è®¾ç½®æ„å»ºé…ç½®ï¼š
   - **Branch to deploy**: `main`
   - **Build command**: `npm run build`
   - **Publish directory**: `dist`

### 3.2 è®¾ç½®ç¯å¢ƒå˜é‡
**é‡è¦ï¼šè¿™ä¸€æ­¥æ˜¯å…³é”®ï¼**

1. åœ¨Netlifyé¡¹ç›®è®¾ç½®ä¸­ï¼Œç‚¹å‡» **"Environment variables"**
2. ç‚¹å‡» **"Add variable"**
3. æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼š

**å˜é‡1ï¼š**
- **Key**: `VITE_SUPABASE_URL`
- **Value**: `https://ljtwkkzshbrvqrxgnuin.supabase.co`

**å˜é‡2ï¼š**
- **Key**: `VITE_SUPABASE_ANON_KEY`  
- **Value**: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqdHdra3pzaGJydnFyeGdudWluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEwNTE1NTMsImV4cCI6MjA2NjYyNzU1M30.szRhJOeWhTIh1TFnuSyeJ5sh2A8sOHKTPGpwizlZCcQ`

4. ç‚¹å‡» **"Save"**

### 3.3 è§¦å‘éƒ¨ç½²
1. ç‚¹å‡» **"Deploys"** æ ‡ç­¾
2. ç‚¹å‡» **"Trigger deploy"** â†’ **"Deploy site"**
3. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆé€šå¸¸éœ€è¦2-5åˆ†é’Ÿï¼‰

---

## âœ… éªŒè¯éƒ¨ç½²

### æ£€æŸ¥æ­¥éª¤ï¼š
1. **Supabaseæ•°æ®åº“**ï¼šåœ¨Supabaseæ§åˆ¶å°çš„Table Editorä¸­ç¡®è®¤è¡¨å·²åˆ›å»ºä¸”æœ‰æ•°æ®
2. **Netlifyéƒ¨ç½²**ï¼šç¡®è®¤éƒ¨ç½²çŠ¶æ€ä¸º"Published"ï¼Œæ²¡æœ‰é”™è¯¯
3. **åº”ç”¨åŠŸèƒ½**ï¼šè®¿é—®Netlifyæä¾›çš„URLï¼Œæµ‹è¯•åº”ç”¨æ˜¯å¦æ­£å¸¸å·¥ä½œ

---

## ğŸ”§ å¦‚æœé‡åˆ°é—®é¢˜

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼š

**1. éƒ¨ç½²å¤±è´¥**
- æ£€æŸ¥Netlifyçš„æ„å»ºæ—¥å¿—
- ç¡®è®¤ç¯å¢ƒå˜é‡è®¾ç½®æ­£ç¡®

**2. æ•°æ®åº“è¿æ¥å¤±è´¥**
- ç¡®è®¤Supabaseä¸­çš„RLSç­–ç•¥å·²å¯ç”¨
- æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®

**3. é¡µé¢ç©ºç™½**
- æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
- ç¡®è®¤æ‰€æœ‰ç¯å¢ƒå˜é‡éƒ½å·²è®¾ç½®

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœä»»ä½•æ­¥éª¤æœ‰é—®é¢˜ï¼Œè¯·æˆªå›¾å‘Šè¯‰æˆ‘ï¼š
1. å…·ä½“åœ¨å“ªä¸€æ­¥é‡åˆ°é—®é¢˜
2. é”™è¯¯ä¿¡æ¯æ˜¯ä»€ä¹ˆ
3. Netlifyéƒ¨ç½²æ—¥å¿—ï¼ˆå¦‚æœéƒ¨ç½²å¤±è´¥ï¼‰

æˆ‘ä¼šå¸®æ‚¨è§£å†³ï¼ 